# Парсер финансовых данных с сохранением в БД

Проект для сбора данных с интерактивного графика и сохранения в MySQL базу данных.

## Требования

- Python 3.8+
- Chrome браузер
- MySQL сервер

## Установка

1. Клонировать репозиторий:
```bash
git clone https://github.com/odettnix/tbankParser.git
```

2. Установить зависимости:
```bash
pip install -r requirements.txt
```

3. Создать файл .env в корне проекта:
```ini
HOST=localhost
USER=ваш_пользователь
PASSWORD=ваш_пароль
DB_NAME=ваша_база_данных
```

4. Убедиться что:
- MySQL сервер запущен
- Создана указанная в DB_NAME база данных
- Пользователь имеет права на запись

## Запуск первого парсера
```bash
python parser.py
```

## Запуск второго парсера
```bash
python request_parser.py
```

## Структура проекта
```
project/
├── parser.py         # Скрипт парсера с помощью Selenium
├── request_parser.py # Скрипт парсера с помощью requests
├── database.py       # Модуль работы с БД
├── tbankDB.sql       # Скрипт БД
├── .env              # Конфигурация БД (не включается в git)
├── requirements.txt  # Зависимости
└── README.md         # Документация
```

## Особенности реализации
- Автоматическая установка ChromeDriver
- Парсинг динамически изменяющихся элементов графика
- Обработка дубликатов при вставке в БД
- Использование переменных окружения для безопасности данных

## Возможные ошибки
1. **Ошибки подключения к БД**:
   - Проверьте параметры в .env
   - Убедитесь что MySQL сервер запущен

2. **Ошибки парсинга**:
   - Проверьте актуальность XPath элементов
   - Убедитесь в стабильности интернет-соединения